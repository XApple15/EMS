<?xml version="1.0"?>
<doc>
    <assembly>
        <name>device-service</name>
    </assembly>
    <members>
        <member name="T:device_service.BackgroundServices.DeviceUserCreatedConsumerService">
            <summary>
            Background service that consumes DeviceUserCreateRequested events from RabbitMQ
            and creates user records in the device-service database
            </summary>
        </member>
        <member name="F:device_service.BackgroundServices.DeviceUserCreatedConsumerService.DeviceUserCreateRoutingKey">
            <summary>
            Routing key for device user creation events (must match user-service publisher)
            </summary>
        </member>
        <member name="M:device_service.BackgroundServices.DeviceUserCreatedConsumerService.HandleDeviceUserCreateRequestedAsync(Shared.Events.DeviceUserCreateRequested)">
            <summary>
            Handles DeviceUserCreateRequested events by creating user records in device-service database.
            This handler is idempotent - duplicate events will not create duplicate records.
            </summary>
            <param name="event">The DeviceUserCreateRequested event</param>
            <returns>True if processing succeeded, false to requeue</returns>
        </member>
        <member name="M:device_service.BackgroundServices.DeviceUserCreatedConsumerService.IsUniqueConstraintViolation(Microsoft.EntityFrameworkCore.DbUpdateException)">
            <summary>
            Determines if the exception is due to a unique constraint violation
            </summary>
        </member>
        <member name="T:device_service.Controllers.DeviceController">
            <summary>
            Device management and energy consumption tracking endpoints
            </summary>
        </member>
        <member name="M:device_service.Controllers.DeviceController.GetAllDevices">
            <summary>
            Get all devices in the system (Admin only)
            </summary>
            <returns>List of all devices with their assignments and consumption data</returns>
            <remarks>
            Retrieves all devices registered in the system, including assigned and unassigned devices.
            
            **Authorization**: Requires Admin role
            
            The JWT middleware automatically injects X-User-Role header from the token.
            </remarks>
            <response code="200">Successfully retrieved list of devices</response>
            <response code="401">Unauthorized - Admin role required</response>
        </member>
        <member name="M:device_service.Controllers.DeviceController.GetDeviceById(System.Guid)">
            <summary>
            Get a specific device by its ID
            </summary>
            <param name="id">The unique device ID (GUID)</param>
            <returns>Device details including name, consumption, and user assignment</returns>
            <remarks>
            Retrieves a single device by its unique identifier.
            
            Sample request:
            
                GET /api/device/3fa85f64-5717-4562-b3fc-2c963f66afa6
                
            </remarks>
            <response code="200">Device found and returned</response>
            <response code="404">Device not found</response>
        </member>
        <member name="M:device_service.Controllers.DeviceController.GetDevicesByUserId(System.Guid)">
            <summary>
            Get all devices assigned to a specific user
            </summary>
            <param name="userId">The user's profile ID (GUID)</param>
            <returns>List of devices assigned to the specified user</returns>
            <remarks>
            Retrieves all devices that are currently assigned to a particular user.
            This is useful for client dashboards to show their own devices.
            
            Sample request:
            
                GET /api/device/user/3fa85f64-5717-4562-b3fc-2c963f66afa6
                
            Returns empty array if user has no devices assigned.
            </remarks>
            <response code="200">Successfully retrieved user's devices (may be empty array)</response>
        </member>
        <member name="M:device_service.Controllers.DeviceController.CreateDevice(device_service.Model.AddDeviceDTO)">
            <summary>
            Create a new device (Admin only)
            </summary>
            <param name="deviceDto">Device creation data</param>
            <returns>Created device with generated ID</returns>
            <remarks>
            Creates a new device in the system. The device can be created unassigned or assigned to a user.
            
            **Authorization**: Requires Admin role
            
            Sample request (unassigned device):
            
                POST /api/device
                {
                   "userId": null,
                   "name": "Smart Thermostat",
                   "consumption": "2.5"
                }
                
            Sample request (assigned device):
            
                POST /api/device
                {
                   "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
                   "name": "LED Lamp",
                   "consumption": "0.8"
                }
                
            Consumption is typically measured in kWh (kilowatt-hours).
            </remarks>
            <response code="201">Device created successfully</response>
            <response code="400">Invalid request data</response>
            <response code="401">Unauthorized - Admin role required</response>
        </member>
        <member name="M:device_service.Controllers.DeviceController.UpdateDevice(System.Guid,device_service.Model.AddDeviceDTO)">
            <summary>
            Update an existing device or reassign to another user (Admin only)
            </summary>
            <param name="id">The device ID to update</param>
            <param name="deviceDto">Updated device data</param>
            <returns>Updated device information</returns>
            <remarks>
            Updates device details such as name, consumption, or user assignment.
            
            **Authorization**: Requires Admin role
            
            Sample request (update and reassign):
            
                PUT /api/device/3fa85f64-5717-4562-b3fc-2c963f66afa6
                {
                   "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
                   "name": "Updated Device Name",
                   "consumption": "3.2"
                }
                
            Sample request (unassign device):
            
                PUT /api/device/3fa85f64-5717-4562-b3fc-2c963f66afa6
                {
                   "userId": null,
                   "name": "Device Name",
                   "consumption": "3.2"
                }
                
            </remarks>
            <response code="200">Device updated successfully</response>
            <response code="400">Invalid request data</response>
            <response code="401">Unauthorized - Admin role required</response>
            <response code="404">Device not found</response>
        </member>
        <member name="M:device_service.Controllers.DeviceController.DeleteDevice(System.Guid)">
            <summary>
            Delete a device (Admin only)
            </summary>
            <param name="id">The device ID to delete</param>
            <returns>No content on success</returns>
            <remarks>
            Permanently deletes a device from the system.
            
            **Authorization**: Requires Admin role
            
            **Warning**: This action cannot be undone. All historical consumption data for this device will be lost.
            
            Sample request:
            
                DELETE /api/device/3fa85f64-5717-4562-b3fc-2c963f66afa6
                
            </remarks>
            <response code="204">Device deleted successfully</response>
            <response code="401">Unauthorized - Admin role required</response>
            <response code="404">Device not found</response>
        </member>
        <member name="T:device_service.Infrastructure.Messaging.IEventConsumer">
            <summary>
            Interface for consuming events from message broker
            </summary>
        </member>
        <member name="M:device_service.Infrastructure.Messaging.IEventConsumer.StartConsumingAsync``1(System.String,System.Func{``0,System.Threading.Tasks.Task{System.Boolean}},System.Threading.CancellationToken)">
            <summary>
            Starts consuming messages from the specified queue with the given routing key
            </summary>
            <typeparam name="T">Type of event to consume</typeparam>
            <param name="routingKey">Routing key pattern to bind to (e.g., "user.#")</param>
            <param name="handler">Handler function to process received events</param>
            <param name="cancellationToken">Cancellation token for stopping consumption</param>
            <returns>Task representing the async operation</returns>
        </member>
        <member name="T:device_service.Infrastructure.Messaging.IRabbitMqConnectionFactory">
            <summary>
            Factory for creating and managing RabbitMQ connections
            </summary>
        </member>
        <member name="M:device_service.Infrastructure.Messaging.IRabbitMqConnectionFactory.CreateConnection">
            <summary>
            Creates a new RabbitMQ connection
            </summary>
            <returns>A new IConnection instance</returns>
        </member>
        <member name="T:device_service.Infrastructure.Messaging.RabbitMqConnectionFactory">
            <summary>
            Factory for creating RabbitMQ connections with automatic recovery and connection pooling
            </summary>
        </member>
        <member name="M:device_service.Infrastructure.Messaging.RabbitMqConnectionFactory.CreateConnection">
            <summary>
            Creates or returns existing RabbitMQ connection
            </summary>
            <returns>A thread-safe IConnection instance</returns>
        </member>
        <member name="T:device_service.Infrastructure.Messaging.RabbitMqEventConsumer">
            <summary>
            RabbitMQ implementation of event consumer with message acknowledgment and error handling
            </summary>
        </member>
        <member name="M:device_service.Infrastructure.Messaging.RabbitMqEventConsumer.StartConsumingAsync``1(System.String,System.Func{``0,System.Threading.Tasks.Task{System.Boolean}},System.Threading.CancellationToken)">
            <summary>
            Starts consuming messages from RabbitMQ with manual acknowledgment
            </summary>
            <typeparam name="T">Type of event to consume</typeparam>
            <param name="routingKey">Routing key pattern to bind to</param>
            <param name="handler">Handler function that returns true on success, false to requeue</param>
            <param name="cancellationToken">Cancellation token for stopping consumption</param>
        </member>
        <member name="T:device_service.Infrastructure.Messaging.RabbitMqSettings">
            <summary>
            Configuration settings for RabbitMQ connection and messaging
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.HostName">
            <summary>
            RabbitMQ host name or IP address
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.Port">
            <summary>
            RabbitMQ port number
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.UserName">
            <summary>
            RabbitMQ username for authentication
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.Password">
            <summary>
            RabbitMQ password for authentication
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.ExchangeName">
            <summary>
            Exchange name for topic-based messaging
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.ExchangeType">
            <summary>
            Exchange type (topic, direct, fanout, headers)
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.QueueName">
            <summary>
            Queue name for this consumer
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.MaxRetryAttempts">
            <summary>
            Maximum number of retry attempts for operations
            </summary>
        </member>
        <member name="P:device_service.Infrastructure.Messaging.RabbitMqSettings.RetryDelayMilliseconds">
            <summary>
            Initial delay in milliseconds between retry attempts
            </summary>
        </member>
        <member name="T:device_service.Migrations.addeddevice">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeddevice.Up(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeddevice.Down(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeddevice.BuildTargetModel(Microsoft.EntityFrameworkCore.ModelBuilder)">
            <inheritdoc />
        </member>
        <member name="T:device_service.Migrations.addeduserdb">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeduserdb.Up(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeduserdb.Down(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.addeduserdb.BuildTargetModel(Microsoft.EntityFrameworkCore.ModelBuilder)">
            <inheritdoc />
        </member>
        <member name="T:device_service.Migrations.AddUniqueIndexOnAuthId">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.AddUniqueIndexOnAuthId.Up(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.AddUniqueIndexOnAuthId.Down(Microsoft.EntityFrameworkCore.Migrations.MigrationBuilder)">
            <inheritdoc />
        </member>
        <member name="M:device_service.Migrations.AddUniqueIndexOnAuthId.BuildTargetModel(Microsoft.EntityFrameworkCore.ModelBuilder)">
            <inheritdoc />
        </member>
    </members>
</doc>
